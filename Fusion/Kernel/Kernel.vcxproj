<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="1202Release|x64">
      <Configuration>1202Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="900Release|x64">
      <Configuration>900Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <VCProjectVersion>17.0</VCProjectVersion>
    <ProjectGuid>{7F7E2757-4CBA-4203-8EEB-5B317A8C2D4D}</ProjectGuid>
    <Keyword>Win32Proj</Keyword>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='900Release|x64'" Label="Configuration">
    <ConfigurationType>Makefile</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='1202Release|x64'" Label="Configuration">
    <ConfigurationType>Makefile</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v143</PlatformToolset>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <ImportGroup Label="ExtensionSettings">
  </ImportGroup>
  <ImportGroup Label="Shared">
  </ImportGroup>
  <ImportGroup Condition="'$(Configuration)|$(Platform)'=='900Release|x64'" Label="PropertySheets">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
  </ImportGroup>
  <ImportGroup Condition="'$(Configuration)|$(Platform)'=='1202Release|x64'" Label="PropertySheets">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='900Release|x64'">
    <NMakePreprocessorDefinitions>SOFTWARE_VERSION=900</NMakePreprocessorDefinitions>
    <NMakeBuildCommandLine>wsl -d Ubuntu-24.04 make $(NMakePreprocessorDefinitions) clean
wsl -d Ubuntu-24.04 make $(NMakePreprocessorDefinitions)

xcopy "$(ProjectDir)Kernel.elf" "$(SolutionDir)Fusion\Loader\resources\" /K /D /H /Y</NMakeBuildCommandLine>
    <NMakeReBuildCommandLine>wsl -d Ubuntu-24.04 make $(NMakePreprocessorDefinitions) clean
wsl -d Ubuntu-24.04 make $(NMakePreprocessorDefinitions)

xcopy "$(ProjectDir)Kernel.elf" "$(SolutionDir)Fusion\Loader\resources\" /K /D /H /Y</NMakeReBuildCommandLine>
    <NMakeCleanCommandLine>wsl -d Ubuntu-24.04 make $(NMakePreprocessorDefinitions) clean
del /q "$(SolutionDir)Fusion\Loader\resources\Kernel.elf"</NMakeCleanCommandLine>
    <NMakeOutput>Kernel.elf</NMakeOutput>
    <NMakeIncludeSearchPath>$(ProjectDir)include;$(SolutionDir)Shared;$(SolutionDir)External\FusionShared;$(NMakeIncludeSearchPath)</NMakeIncludeSearchPath>
    <OutDir>$(SolutionDir)Build\</OutDir>
    <IncludePath>$(ProjectDir)include;$(ProjectDir)include\Utils;$(ProjectDir)include\Utils\Detours;$(ProjectDir)include\Driver;$(ProjectDir)include\Homebrew;$(ProjectDir)include\Misc</IncludePath>
    <IntDir>$(ProjectDir)</IntDir>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='1202Release|x64'">
    <NMakePreprocessorDefinitions>SOFTWARE_VERSION=1202</NMakePreprocessorDefinitions>
    <NMakeBuildCommandLine>wsl -d Ubuntu-24.04 make $(NMakePreprocessorDefinitions) clean
wsl -d Ubuntu-24.04 make $(NMakePreprocessorDefinitions)

xcopy "$(ProjectDir)Kernel.elf" "$(SolutionDir)Fusion\Loader\resources\" /K /D /H /Y</NMakeBuildCommandLine>
    <NMakeReBuildCommandLine>wsl -d Ubuntu-24.04 make $(NMakePreprocessorDefinitions) clean
wsl -d Ubuntu-24.04 make $(NMakePreprocessorDefinitions)

xcopy "$(ProjectDir)Kernel.elf" "$(SolutionDir)Fusion\Loader\resources\" /K /D /H /Y</NMakeReBuildCommandLine>
    <NMakeCleanCommandLine>wsl -d Ubuntu-24.04 make $(NMakePreprocessorDefinitions) clean
del /q "$(SolutionDir)Fusion\Loader\resources\Kernel.elf"</NMakeCleanCommandLine>
    <NMakeOutput>Kernel.elf</NMakeOutput>
    <NMakeIncludeSearchPath>$(ProjectDir)include;$(SolutionDir)Shared;$(SolutionDir)External\FusionShared;$(NMakeIncludeSearchPath)</NMakeIncludeSearchPath>
    <OutDir>$(SolutionDir)Build\</OutDir>
    <IncludePath>$(ProjectDir)include;$(ProjectDir)include\Utils;$(ProjectDir)include\Utils\Detours;$(ProjectDir)include\Driver;$(ProjectDir)include\Homebrew;$(ProjectDir)include\Misc</IncludePath>
    <IntDir>$(ProjectDir)</IntDir>
  </PropertyGroup>
  <ItemDefinitionGroup>
  </ItemDefinitionGroup>
  <ItemGroup>
    <None Include="crt0.s" />
    <None Include="Linker" />
    <None Include="Makefile" />
    <None Include="source\Utils\Asm.s" />
  </ItemGroup>
  <ItemGroup>
    <ClCompile Include="source\Driver\DriverKernel.cpp" />
    <ClCompile Include="source\Driver\DriverProc.cpp" />
    <ClCompile Include="source\Driver\FusionDriver.cpp" />
    <ClCompile Include="source\FeatureFlags.cpp" />
    <ClCompile Include="source\Fusion.cpp" />
    <ClCompile Include="source\Homebrew\FakePkgs.cpp" />
    <ClCompile Include="source\Homebrew\FakeSelfs.cpp" />
    <ClCompile Include="source\Main.cpp" />
    <ClCompile Include="source\Misc\DevActSpoofer.cpp" />
    <ClCompile Include="source\Misc\DipSwitchSpoofer.cpp" />
    <ClCompile Include="source\Misc\DirectMemory.cpp" />
    <ClCompile Include="source\Misc\LibraryReplacer.cpp" />
    <ClCompile Include="source\Misc\Patches.cpp" />
    <ClCompile Include="source\Misc\TTYRedirector.cpp" />
    <ClCompile Include="source\Utils\Detours\Detour.cpp" />
    <ClCompile Include="source\Utils\Detours\DetourMemoryPool.cpp" />
    <ClCompile Include="source\Utils\Detours\hde64.cpp" />
    <ClCompile Include="source\Utils\Heap.cpp" />
    <ClCompile Include="source\Utils\Misc.cpp" />
    <ClCompile Include="source\Utils\ProcessUtils.cpp" />
    <ClCompile Include="source\Utils\Resolver.cpp" />
  </ItemGroup>
  <ItemGroup>
    <ClInclude Include="include\Common.h" />
    <ClInclude Include="include\Driver\DriverKernel.h" />
    <ClInclude Include="include\Driver\DriverProc.h" />
    <ClInclude Include="include\Driver\FusionDriver.h" />
    <ClInclude Include="include\FeatureFlags.h" />
    <ClInclude Include="include\Fusion.h" />
    <ClInclude Include="include\Homebrew\FakePkgs.h" />
    <ClInclude Include="include\Homebrew\FakePkgTypes.h" />
    <ClInclude Include="include\Homebrew\FakeSelfs.h" />
    <ClInclude Include="include\Homebrew\FakeSelfTypes.h" />
    <ClInclude Include="include\Misc\DevActSpoofer.h" />
    <ClInclude Include="include\Misc\DipSwitchSpoofer.h" />
    <ClInclude Include="include\Misc\DirectMemory.h" />
    <ClInclude Include="include\Misc\LibraryReplacer.h" />
    <ClInclude Include="include\Misc\Patches.h" />
    <ClInclude Include="include\Misc\TTYRedirector.h" />
    <ClInclude Include="include\Types\All.h" />
    <ClInclude Include="include\Types\Dev.h" />
    <ClInclude Include="include\Types\Dynlib.h" />
    <ClInclude Include="include\Types\ELF.h" />
    <ClInclude Include="include\Types\Errno.h" />
    <ClInclude Include="include\Types\EventHandler.h" />
    <ClInclude Include="include\Types\FS.h" />
    <ClInclude Include="include\Types\Generic.h" />
    <ClInclude Include="include\Types\ioccom.h" />
    <ClInclude Include="include\Types\List.h" />
    <ClInclude Include="include\Types\Mutex.h" />
    <ClInclude Include="include\Types\Proc.h" />
    <ClInclude Include="include\Types\Sparse.h" />
    <ClInclude Include="include\Types\Syscall.h" />
    <ClInclude Include="include\Types\Uio.h" />
    <ClInclude Include="include\Types\VM.h" />
    <ClInclude Include="include\Utils\Asm.h" />
    <ClInclude Include="include\Utils\Detours\Detour.h" />
    <ClInclude Include="include\Utils\Detours\DetourMemoryPool.h" />
    <ClInclude Include="include\Utils\Detours\hde64.h" />
    <ClInclude Include="include\Utils\Detours\table64.h" />
    <ClInclude Include="include\Utils\Heap.h" />
    <ClInclude Include="include\Utils\Misc.h" />
    <ClInclude Include="include\Utils\ProcessUtils.h" />
    <ClInclude Include="include\Utils\Resolver.h" />
  </ItemGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <ImportGroup Label="ExtensionTargets">
  </ImportGroup>
</Project>